#!/bin/bash 
#SBATCH --job-name=cde-search
#SBATCH --time=72:00:00
#SBATCH --output=out/cde-s-%a.out
#SBATCH --mem=8G
#SBATCH --array=0-151

games=('rand:GreaterThanGame'
    'rand:FocusingGame'
    'rand:IntransitiveRegionGame'
    'rand:CompareOnOneGame'
    'hc-pmo-i:GreaterThanGame'
    'hc-pmo-i:FocusingGame'
    'hc-pmo-i:IntransitiveRegionGame'
    'hc-pmo-i:CompareOnOneGame'
    'hc-pmo-p:GreaterThanGame'
    'hc-pmo-p:FocusingGame'
    'hc-pmo-p:IntransitiveRegionGame'
    'hc-pmo-p:CompareOnOneGame'
    'hc-r-i:GreaterThanGame'
    'hc-r-i:FocusingGame'
    'hc-r-i:IntransitiveRegionGame'
    'hc-r-i:CompareOnOneGame'
    'hc-r-p:GreaterThanGame'
    'hc-r-p:FocusingGame'
    'hc-r-p:IntransitiveRegionGame'
    'hc-r-p:CompareOnOneGame'
    'de-l:GreaterThanGame'
    'de-l:FocusingGame'
    'de-l:IntransitiveRegionGame'
    'de-l:CompareOnOneGame'
    'de-d-0:GreaterThanGame'
    'de-d-0:FocusingGame'
    'de-d-0:IntransitiveRegionGame'
    'de-d-0:CompareOnOneGame'
    'de-d-1:GreaterThanGame'
    'de-d-1:FocusingGame'
    'de-d-1:IntransitiveRegionGame'
    'de-d-1:CompareOnOneGame'
    'de-d-m:GreaterThanGame'
    'de-d-m:FocusingGame'
    'de-d-m:IntransitiveRegionGame'
    'de-d-m:CompareOnOneGame'
    'de-d-g:GreaterThanGame'
    'de-d-g:FocusingGame'
    'de-d-g:IntransitiveRegionGame'
    'de-d-g:CompareOnOneGame'
    'de-d-s:GreaterThanGame'
    'de-d-s:FocusingGame'
    'de-d-s:IntransitiveRegionGame'
    'de-d-s:CompareOnOneGame'
    'de-d-d-0:GreaterThanGame'
    'de-d-d-0:FocusingGame'
    'de-d-d-0:IntransitiveRegionGame'
    'de-d-d-0:CompareOnOneGame'
    'de-d-d-1:GreaterThanGame'
    'de-d-d-1:FocusingGame'
    'de-d-d-1:IntransitiveRegionGame'
    'de-d-d-1:CompareOnOneGame'
    'de-d-d-2:GreaterThanGame'
    'de-d-d-2:FocusingGame'
    'de-d-d-2:IntransitiveRegionGame'
    'de-d-d-2:CompareOnOneGame'
    'de-d-d-5:GreaterThanGame'
    'de-d-d-5:FocusingGame'
    'de-d-d-5:IntransitiveRegionGame'
    'de-d-d-5:CompareOnOneGame'
    'de-d-d-100:GreaterThanGame'
    'de-d-d-100:FocusingGame'
    'de-d-d-100:IntransitiveRegionGame'
    'de-d-d-100:CompareOnOneGame'
    'des-mea:GreaterThanGame'
    'des-mea:FocusingGame'
    'des-mea:IntransitiveRegionGame'
    'des-mea:CompareOnOneGame'
    'des-mea-0:GreaterThanGame'
    'des-mea-0:FocusingGame'
    'des-mea-0:IntransitiveRegionGame'
    'des-mea-0:CompareOnOneGame'
    'des-mea-1:GreaterThanGame'
    'des-mea-1:FocusingGame'
    'des-mea-1:IntransitiveRegionGame'
    'des-mea-1:CompareOnOneGame'
    'des-mea-2:GreaterThanGame'
    'des-mea-2:FocusingGame'
    'des-mea-2:IntransitiveRegionGame'
    'des-mea-2:CompareOnOneGame'
    'des-mea-5:GreaterThanGame'
    'des-mea-5:FocusingGame'
    'des-mea-5:IntransitiveRegionGame'
    'des-mea-5:CompareOnOneGame'
    'des-mea-100:GreaterThanGame'
    'des-mea-100:FocusingGame'
    'des-mea-100:IntransitiveRegionGame'
    'des-mea-100:CompareOnOneGame'
    'des-med:GreaterThanGame'
    'des-med:FocusingGame'
    'des-med:IntransitiveRegionGame'
    'des-med:CompareOnOneGame'
    'des-med-0:GreaterThanGame'
    'des-med-0:FocusingGame'
    'des-med-0:IntransitiveRegionGame'
    'des-med-0:CompareOnOneGame'
    'des-med-1:GreaterThanGame'
    'des-med-1:FocusingGame'
    'des-med-1:IntransitiveRegionGame'
    'des-med-1:CompareOnOneGame'
    'des-med-2:GreaterThanGame'
    'des-med-2:FocusingGame'
    'des-med-2:IntransitiveRegionGame'
    'des-med-2:CompareOnOneGame'
    'des-med-5:GreaterThanGame'
    'des-med-5:FocusingGame'
    'des-med-5:IntransitiveRegionGame'
    'des-med-5:CompareOnOneGame'
    'des-med-100:GreaterThanGame'
    'des-med-100:FocusingGame'
    'des-med-100:IntransitiveRegionGame'
    'des-med-100:CompareOnOneGame'
    'pl-l-0:GreaterThanGame'
    'pl-l-0:FocusingGame'
    'pl-l-0:IntransitiveRegionGame'
    'pl-l-0:CompareOnOneGame'
    'pl-l-1:GreaterThanGame'
    'pl-l-1:FocusingGame'
    'pl-l-1:IntransitiveRegionGame'
    'pl-l-1:CompareOnOneGame'
    'pl-l-2:GreaterThanGame'
    'pl-l-2:FocusingGame'
    'pl-l-2:IntransitiveRegionGame'
    'pl-l-2:CompareOnOneGame'
    'pl-l-5:GreaterThanGame'
    'pl-l-5:FocusingGame'
    'pl-l-5:IntransitiveRegionGame'
    'pl-l-5:CompareOnOneGame'
    'pl-l-100:GreaterThanGame'
    'pl-l-100:FocusingGame'
    'pl-l-100:IntransitiveRegionGame'
    'pl-l-100:CompareOnOneGame'
    'pl-d-0:GreaterThanGame'
    'pl-d-0:FocusingGame'
    'pl-d-0:IntransitiveRegionGame'
    'pl-d-0:CompareOnOneGame'
    'pl-d-1:GreaterThanGame'
    'pl-d-1:FocusingGame'
    'pl-d-1:IntransitiveRegionGame'
    'pl-d-1:CompareOnOneGame'
    'pl-d-2:GreaterThanGame'
    'pl-d-2:FocusingGame'
    'pl-d-2:IntransitiveRegionGame'
    'pl-d-2:CompareOnOneGame'
    'pl-d-5:GreaterThanGame'
    'pl-d-5:FocusingGame'
    'pl-d-5:IntransitiveRegionGame'
    'pl-d-5:CompareOnOneGame'
    'pl-d-100:GreaterThanGame'
    'pl-d-100:FocusingGame'
    'pl-d-100:IntransitiveRegionGame'
    'pl-d-100:CompareOnOneGame')

game=${games[$SLURM_ARRAY_TASK_ID]}

module rm apps/python/3.8.5
module load apps/anaconda/5.3.1

source activate cde-search-env

python ~/cde-search/cli.py game -sim "$game" --times 30 --metrics "$WORK/cde-search/metrics.jsonlist"
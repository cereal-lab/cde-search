#!/bin/bash 
#SBATCH --job-name=sim-space
#SBATCH --time=72:00:00
#SBATCH --output=out/sim-space.out
#SBATCH --mem=8G
#SBATCH --array=0-227

games=('rand:dupl-t-100'
    'rand:dupl-c-100'
    'rand:dupl-100'
    'rand:dupl-t-10000'
    'rand:dupl-c-10000'
    'rand:dupl-10000'
    'hc-pmo-i:dupl-t-100'
    'hc-pmo-i:dupl-c-100'
    'hc-pmo-i:dupl-100'
    'hc-pmo-i:dupl-t-10000'
    'hc-pmo-i:dupl-c-10000'
    'hc-pmo-i:dupl-10000'
    'hc-pmo-p:dupl-t-100'
    'hc-pmo-p:dupl-c-100'
    'hc-pmo-p:dupl-100'
    'hc-pmo-p:dupl-t-10000'
    'hc-pmo-p:dupl-c-10000'
    'hc-pmo-p:dupl-10000'
    'hc-r-i:dupl-t-100'
    'hc-r-i:dupl-c-100'
    'hc-r-i:dupl-100'
    'hc-r-i:dupl-t-10000'
    'hc-r-i:dupl-c-10000'
    'hc-r-i:dupl-10000'
    'hc-r-p:dupl-t-100'
    'hc-r-p:dupl-c-100'
    'hc-r-p:dupl-100'
    'hc-r-p:dupl-t-10000'
    'hc-r-p:dupl-c-10000'
    'hc-r-p:dupl-10000'
    'de-l:dupl-t-100'
    'de-l:dupl-c-100'
    'de-l:dupl-100'
    'de-l:dupl-t-10000'
    'de-l:dupl-c-10000'
    'de-l:dupl-10000'
    'de-d-0:dupl-t-100'
    'de-d-0:dupl-c-100'
    'de-d-0:dupl-100'
    'de-d-0:dupl-t-10000'
    'de-d-0:dupl-c-10000'
    'de-d-0:dupl-10000'
    'de-d-1:dupl-t-100'
    'de-d-1:dupl-c-100'
    'de-d-1:dupl-100'
    'de-d-1:dupl-t-10000'
    'de-d-1:dupl-c-10000'
    'de-d-1:dupl-10000'
    'de-d-m:dupl-t-100'
    'de-d-m:dupl-c-100'
    'de-d-m:dupl-100'
    'de-d-m:dupl-t-10000'
    'de-d-m:dupl-c-10000'
    'de-d-m:dupl-10000'
    'de-d-g:dupl-t-100'
    'de-d-g:dupl-c-100'
    'de-d-g:dupl-100'
    'de-d-g:dupl-t-10000'
    'de-d-g:dupl-c-10000'
    'de-d-g:dupl-10000'
    'de-d-s:dupl-t-100'
    'de-d-s:dupl-c-100'
    'de-d-s:dupl-100'
    'de-d-s:dupl-t-10000'
    'de-d-s:dupl-c-10000'
    'de-d-s:dupl-10000'
    'de-d-d-0:dupl-t-100'
    'de-d-d-0:dupl-c-100'
    'de-d-d-0:dupl-100'
    'de-d-d-0:dupl-t-10000'
    'de-d-d-0:dupl-c-10000'
    'de-d-d-0:dupl-10000'
    'de-d-d-1:dupl-t-100'
    'de-d-d-1:dupl-c-100'
    'de-d-d-1:dupl-100'
    'de-d-d-1:dupl-t-10000'
    'de-d-d-1:dupl-c-10000'
    'de-d-d-1:dupl-10000'
    'de-d-d-2:dupl-t-100'
    'de-d-d-2:dupl-c-100'
    'de-d-d-2:dupl-100'
    'de-d-d-2:dupl-t-10000'
    'de-d-d-2:dupl-c-10000'
    'de-d-d-2:dupl-10000'
    'de-d-d-5:dupl-t-100'
    'de-d-d-5:dupl-c-100'
    'de-d-d-5:dupl-100'
    'de-d-d-5:dupl-t-10000'
    'de-d-d-5:dupl-c-10000'
    'de-d-d-5:dupl-10000'
    'de-d-d-100:dupl-t-100'
    'de-d-d-100:dupl-c-100'
    'de-d-d-100:dupl-100'
    'de-d-d-100:dupl-t-10000'
    'de-d-d-100:dupl-c-10000'
    'de-d-d-100:dupl-10000'
    'des-mea:dupl-t-100'
    'des-mea:dupl-c-100'
    'des-mea:dupl-100'
    'des-mea:dupl-t-10000'
    'des-mea:dupl-c-10000'
    'des-mea:dupl-10000'
    'des-mea-0:dupl-t-100'
    'des-mea-0:dupl-c-100'
    'des-mea-0:dupl-100'
    'des-mea-0:dupl-t-10000'
    'des-mea-0:dupl-c-10000'
    'des-mea-0:dupl-10000'
    'des-mea-1:dupl-t-100'
    'des-mea-1:dupl-c-100'
    'des-mea-1:dupl-100'
    'des-mea-1:dupl-t-10000'
    'des-mea-1:dupl-c-10000'
    'des-mea-1:dupl-10000'
    'des-mea-2:dupl-t-100'
    'des-mea-2:dupl-c-100'
    'des-mea-2:dupl-100'
    'des-mea-2:dupl-t-10000'
    'des-mea-2:dupl-c-10000'
    'des-mea-2:dupl-10000'
    'des-mea-5:dupl-t-100'
    'des-mea-5:dupl-c-100'
    'des-mea-5:dupl-100'
    'des-mea-5:dupl-t-10000'
    'des-mea-5:dupl-c-10000'
    'des-mea-5:dupl-10000'
    'des-mea-100:dupl-t-100'
    'des-mea-100:dupl-c-100'
    'des-mea-100:dupl-100'
    'des-mea-100:dupl-t-10000'
    'des-mea-100:dupl-c-10000'
    'des-mea-100:dupl-10000'
    'des-med:dupl-t-100'
    'des-med:dupl-c-100'
    'des-med:dupl-100'
    'des-med:dupl-t-10000'
    'des-med:dupl-c-10000'
    'des-med:dupl-10000'
    'des-med-0:dupl-t-100'
    'des-med-0:dupl-c-100'
    'des-med-0:dupl-100'
    'des-med-0:dupl-t-10000'
    'des-med-0:dupl-c-10000'
    'des-med-0:dupl-10000'
    'des-med-1:dupl-t-100'
    'des-med-1:dupl-c-100'
    'des-med-1:dupl-100'
    'des-med-1:dupl-t-10000'
    'des-med-1:dupl-c-10000'
    'des-med-1:dupl-10000'
    'des-med-2:dupl-t-100'
    'des-med-2:dupl-c-100'
    'des-med-2:dupl-100'
    'des-med-2:dupl-t-10000'
    'des-med-2:dupl-c-10000'
    'des-med-2:dupl-10000'
    'des-med-5:dupl-t-100'
    'des-med-5:dupl-c-100'
    'des-med-5:dupl-100'
    'des-med-5:dupl-t-10000'
    'des-med-5:dupl-c-10000'
    'des-med-5:dupl-10000'
    'des-med-100:dupl-t-100'
    'des-med-100:dupl-c-100'
    'des-med-100:dupl-100'
    'des-med-100:dupl-t-10000'
    'des-med-100:dupl-c-10000'
    'des-med-100:dupl-10000'
    'pl-l-0:dupl-t-100'
    'pl-l-0:dupl-c-100'
    'pl-l-0:dupl-100'
    'pl-l-0:dupl-t-10000'
    'pl-l-0:dupl-c-10000'
    'pl-l-0:dupl-10000'
    'pl-l-1:dupl-t-100'
    'pl-l-1:dupl-c-100'
    'pl-l-1:dupl-100'
    'pl-l-1:dupl-t-10000'
    'pl-l-1:dupl-c-10000'
    'pl-l-1:dupl-10000'
    'pl-l-2:dupl-t-100'
    'pl-l-2:dupl-c-100'
    'pl-l-2:dupl-100'
    'pl-l-2:dupl-t-10000'
    'pl-l-2:dupl-c-10000'
    'pl-l-2:dupl-10000'
    'pl-l-5:dupl-t-100'
    'pl-l-5:dupl-c-100'
    'pl-l-5:dupl-100'
    'pl-l-5:dupl-t-10000'
    'pl-l-5:dupl-c-10000'
    'pl-l-5:dupl-10000'
    'pl-l-100:dupl-t-100'
    'pl-l-100:dupl-c-100'
    'pl-l-100:dupl-100'
    'pl-l-100:dupl-t-10000'
    'pl-l-100:dupl-c-10000'
    'pl-l-100:dupl-10000'
    'pl-d-0:dupl-t-100'
    'pl-d-0:dupl-c-100'
    'pl-d-0:dupl-100'
    'pl-d-0:dupl-t-10000'
    'pl-d-0:dupl-c-10000'
    'pl-d-0:dupl-10000'
    'pl-d-1:dupl-t-100'
    'pl-d-1:dupl-c-100'
    'pl-d-1:dupl-100'
    'pl-d-1:dupl-t-10000'
    'pl-d-1:dupl-c-10000'
    'pl-d-1:dupl-10000'
    'pl-d-2:dupl-t-100'
    'pl-d-2:dupl-c-100'
    'pl-d-2:dupl-100'
    'pl-d-2:dupl-t-10000'
    'pl-d-2:dupl-c-10000'
    'pl-d-2:dupl-10000'
    'pl-d-5:dupl-t-100'
    'pl-d-5:dupl-c-100'
    'pl-d-5:dupl-100'
    'pl-d-5:dupl-t-10000'
    'pl-d-5:dupl-c-10000'
    'pl-d-5:dupl-10000'
    'pl-d-100:dupl-t-100'
    'pl-d-100:dupl-c-100'
    'pl-d-100:dupl-100'
    'pl-d-100:dupl-t-10000'
    'pl-d-100:dupl-c-10000'
    'pl-d-100:dupl-10000')

game=${games[$SLURM_ARRAY_TASK_ID]}

echo "Starting job $SLURM_ARRAY_TASK_ID with game $game"

module rm apps/python/3.8.5
module load apps/anaconda/5.3.1

source activate cde-search-env

python ~/cde-search/cli.py game -sim "$game" --times 30 --metrics "$WORK/cde-search/spaces.jsonlist"

echo "Done job $SLURM_ARRAY_TASK_ID with game $game"